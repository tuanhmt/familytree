!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.CKEditor5=e():(t.CKEditor5=t.CKEditor5||{},t.CKEditor5.textcolor=e())}(self,(()=>(()=>{var t=[(t,e,o)=>{t.exports=o(5)("./src/core.js")},function(t,e,o){"use strict";var l=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const r=l(o(2));e.default={TextColor:r.default}},function(t,e,o){"use strict";var l=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const r=o(0),i=l(o(3)),n=l(o(4));class s extends r.Plugin{static get requires(){return[n.default,i.default]}}e.default=s},function(t,e,o){"use strict";var l=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const r=o(0),i=o(6),n=l(o(7)),s=o(6);class c extends r.Plugin{static get pluginName(){return"TextColorUI"}init(){const t=this.editor.config.get("textcolor.options");for(const e of t)this._addTextColorizerButton(e);this._addRemoveColorButton(),this._addDropdown(t)}_addRemoveColorButton(){const t=this.editor.t,e=this.editor.commands.get("textcolor");this._addButton("removeTextColor",t("Remove text color"),null,null,(t=>{t.bind("isEnabled").to(e,"isEnabled")}))}_addTextColorizerButton(t){const e=this.editor.commands.get("textcolor");this._addButton("textcolor:"+t.model,t.title,null,t.model,(function(o){o.bind("isEnabled").to(e,"isEnabled"),o.bind("isOn").to(e,"value",(e=>e===t.model)),o.iconView.fillColor=t.color,o.set({color:t.color}),o.isToggleable=!0}))}_addButton(t,e,o,l,r){const i=this.editor;i.ui.componentFactory.add(t,(t=>{const n=new s.ColorTileView(t);return e&&n.set({label:e,tooltip:!0}),o&&n.set({icon:o}),n.set({hasBorder:!1}),n.on("execute",(()=>{i.execute("textcolor",{value:l}),i.editing.view.focus()})),r(n),n}))}_addDropdown(t){const e=this.editor,o=e.t,l=e.ui.componentFactory,r=t[0];l.add("textColor",(s=>{const c=e.commands.get("textcolor"),u=(0,i.createDropdown)(s,i.SplitButtonView),d=u.buttonView;d.set({label:o("Text Color"),tooltip:!0,lastExecuted:null==r?void 0:r.model,commandValue:null==r?void 0:r.model,isToggleable:!0,icon:n.default}),d.delegate("execute").to(u);return u.bind("isEnabled").to(c,"isEnabled"),(0,i.addToolbarToDropdown)(u,(()=>{const e=t.map((t=>{const e=l.create("textcolor:"+t.model);return this.listenTo(e,"execute",(()=>{u.buttonView.set({lastExecuted:t.model})})),e}));return e.push(new i.ToolbarSeparatorView),e.push(l.create("removeTextColor")),e}),{enableActiveItemFocusOnDropdownOpen:!0,ariaLabel:o("Text textcolor toolbar")}),function(t){const e=t.buttonView.actionView;e.iconView.bind("fillColor").to(t.buttonView,"color")}(u),d.on("execute",(()=>{e.execute("textcolor",{value:d.commandValue})})),this.listenTo(u,"execute",(()=>{e.editing.view.focus()})),u}))}}e.default=c},function(t,e,o){"use strict";var l=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const r=o(0),i=l(o(8));class n extends r.Plugin{static get pluginName(){return"TextColorEditing"}constructor(t){super(t),t.config.define("textcolor",{options:[{model:"yellowColor",class:"color-yellow",title:"Yellow",color:"#f3cb41"},{model:"redColor",class:"color-red",title:"Red",color:"red"},{model:"blueColor",class:"color-blue",title:"Blue",color:"blue"}]})}init(){const t=this.editor;t.model.schema.extend("$text",{allowAttributes:"textcolor"});const e=t.config.get("textcolor.options");t.conversion.attributeToElement(function(t){const e={model:{key:"textcolor",values:[]},view:{}};for(const o of t)e.model.values.push(o.model),e.view[o.model]={name:"span",classes:o.class};return e}(e)),t.commands.add("textcolor",new i.default(t))}}e.default=n},t=>{"use strict";t.exports=CKEditor5.dll},(t,e,o)=>{t.exports=o(5)("./src/ui.js")},(t,e,o)=>{"use strict";o.r(e),o.d(e,{default:()=>l});const l='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M12.4 10.3 10 4.5l-2.4 5.8h4.8zm.5 1.2H7.1L5.7 15H4.2l5-12h1.6l5 12h-1.5L13 11.5zm3.1 7H4a1 1 0 0 1 0-2h12a1 1 0 0 1 0 2z"/></svg>'},(t,e,o)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const l=o(0);class r extends l.Command{static get pluginName(){return"TextColorCommand"}refresh(){const t=this.editor.model,e=t.document;this.value=e.selection.getAttribute("textcolor"),this.isEnabled=t.schema.checkAttributeInSelection(e.selection,"textcolor")}execute(t={}){const e=this.editor.model,o=e.document.selection,l=t.value;e.change((t=>{if(o.isCollapsed){const e=o.getFirstPosition();if(o.hasAttribute("textcolor")){const o=t=>t.item.hasAttribute("textcolor")&&t.item.getAttribute("textcolor")===this.value,r=e.getLastMatchingPosition(o,{direction:"backward"}),i=e.getLastMatchingPosition(o),n=t.createRange(r,i);l&&this.value!==l?(e.isEqual(i)||t.setAttribute("textcolor",l,n),t.setSelectionAttribute("textcolor",l)):(e.isEqual(i)||t.removeAttribute("textcolor",n),t.removeSelectionAttribute("textcolor"))}else l&&t.setSelectionAttribute("textcolor",l)}else{const r=e.schema.getValidRanges(o.getRanges(),"textcolor");for(const e of r)l?t.setAttribute("textcolor",l,e):t.removeAttribute("textcolor",e)}}))}}e.default=r}],e={};function o(l){var r=e[l];if(void 0!==r)return r.exports;var i=e[l]={exports:{}};return t[l].call(i.exports,i,i.exports,o),i.exports}o.d=(t,e)=>{for(var l in e)o.o(e,l)&&!o.o(t,l)&&Object.defineProperty(t,l,{enumerable:!0,get:e[l]})},o.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),o.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var l=o(1);return l=l.default})()));